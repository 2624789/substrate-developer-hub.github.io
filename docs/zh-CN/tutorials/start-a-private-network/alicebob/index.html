<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Alice 和 Bob 启动区块链 · Substrate Developer Hub</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Before we generate our own keys, and start a truly unique Substrate network, let&#x27;s learn the fundamentals by starting with a pre-defined network specification called `local` with two pre-defined (and definitely not private!) keys known as Alice and Bob."/><meta name="docsearch:language" content="zh-CN"/><meta property="og:title" content="Alice 和 Bob 启动区块链 · Substrate Developer Hub"/><meta property="og:type" content="website"/><meta property="og:url" content="https://substrate-developer-hub.github.io//"/><meta property="og:description" content="Before we generate our own keys, and start a truly unique Substrate network, let&#x27;s learn the fundamentals by starting with a pre-defined network specification called `local` with two pre-defined (and definitely not private!) keys known as Alice and Bob."/><meta property="og:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://substrate-developer-hub.github.io/img/substrate-dev-hub-card.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/load.js"></script><script type="text/javascript" src="/js/ui.js" defer=""></script><script type="text/javascript" src="/js/config.js" defer=""></script><script type="text/javascript" src="/js/klaro.min.js" defer=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-CN"><img class="logo" src="/img/Substrate-logo.svg" alt="Substrate Developer Hub"/><h2 class="headerTitleWithLogo">Substrate Developer Hub</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/zh-CN/" target="_self">文档</a></li><li class=""><a href="https://substrate.dev/recipes/" target="_self">Recipes</a></li><li class=""><a href="/zh-CN/tutorials" target="_self">教程</a></li><li class=""><a href="/zh-CN/community" target="_self">社区</a></li><li class=""><a href="https://github.com/paritytech/substrate" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/tutorials/start-a-private-network/alicebob">English</a></li><li><a href="/docs/ru/tutorials/start-a-private-network/alicebob">Русский</a></li><li><a href="https://crowdin.com/project/substrate-developer-hub" target="_blank" rel="noreferrer noopener">参与翻译</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>启动私有网络</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">启动私有网络<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/start-a-private-network/">启动私有网络</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-CN/tutorials/start-a-private-network/alicebob">Alice 和 Bob 启动区块链</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/start-a-private-network/keygen">生成密钥</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/start-a-private-network/customspec">Create a Custom Chain Spec</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-CN/tutorials/start-a-private-network/customchain">创建您的私链</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/substrate-developer-hub/zh-CN" target="_blank" rel="noreferrer noopener">Translate</a><h1 id="__docusaurus" class="postHeaderTitle">Alice 和 Bob 启动区块链</h1></header><article><div><span><p>Before we generate our own keys, and start a truly unique Substrate network, let's learn the fundamentals by starting with a pre-defined network specification called <code>local</code> with two pre-defined (and definitely not private!) keys known as Alice and Bob.</p>
<blockquote>
<p>This portion of the tutorial should be run on a single workstation with a single Substrate binary. If you've followed the tutorial up to this point, you have the correct setup.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="alice-首先启动"></a><a href="#alice-首先启动" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Alice 首先启动</h2>
<p>Alice (or whomever is playing her) should run these commands from node-template repository root.</p>
<blockquote>
<p>Here we've explicitly shown the <code>purge-chain</code> command. In the future we will omit this You should purge old chain data any time you're trying to start a new network.</p>
</blockquote>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># Purge any chain data from previous runs</span>
<span class="hljs-comment"># You will be prompted to type `y`</span>
./target/release/node-template purge-chain --base-path /tmp/alice --chain <span class="hljs-built_in">local</span>
</code></pre>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># Start Alice's node</span>
./target/release/node-template \
  --base-path /tmp/alice \
  --chain <span class="hljs-built_in">local</span> \
  --alice \
  --port 30333 \
  --ws-port 9944 \
  --rpc-port 9933 \
  --telemetry-url <span class="hljs-string">'ws://telemetry.polkadot.io:1024 0'</span> \
  --validator
</code></pre>
<p>让我们详细查看这些选项：</p>
<table>
<thead>
<tr><th><div style="min-width:110pt"> Flags </div></th><th>Descriptions</th></tr>
</thead>
<tbody>
<tr><td><code>--base-path</code></td><td>指定一个目录，Substrate 用它来存储与此链有关的所有数据。 如果目录不存在，将创建它。 如果已经存在其它区块链的数据，启动将会报错。 这种情况下，要么清除目录，要么选择不同的目录。 如果未指定此值，将使用默认路径。</td></tr>
<tr><td><code>--chain local</code></td><td>指定要使用的链条规格。 有几个预先准备的选项，包括 <code>local</code> <code>development</code> 和 <code>staging</code> ，但更常见的是我们指定自己的 chainspec 文件。 我们将在稍后阶段指定自己的文件。</td></tr>
<tr><td><code>--alice</code></td><td>将预定义的Alice密钥(用于块production and finalization) 放入节点的密钥。 一般来说，一个人应该生成自己的密钥，并用RPC调用来插入它们。 我们将在稍后阶段指定自己的秘钥。 这个flag也使Alice成为验证器。</td></tr>
<tr><td><code>--port 30333</code></td><td>指定您的节点将监听p2p 的端口。 30333是默认值，如果默认值可以，可以忽略flag。 如果 Bob 的节点在同一物理机上运行，您需要明确指定一个不同的端口。</td></tr>
<tr><td><code>--ws-port 9944</code></td><td>指定您的节点将监听web socket的端口。 <code>9944</code> 是默认值，因此也可以省略它。</td></tr>
<tr><td><code>-rpc-port 9933</code></td><td>指定您的节点将监听RPC的端口。 <code>9933</code> 是默认值，因此也可以省略它。</td></tr>
<tr><td><code>--telemetry-url</code></td><td>告诉节点向某个特定服务器发送遥测数据。 我们在这里选择了由 Parity 维护、可供任何人使用的监测服务器。 你可以维护自己的观测服务器 (超出本文的范围)，或者完全忽略此 flag。</td></tr>
<tr><td><code>--validator</code></td><td>表示我们想要参与区块生产和最后完成，而不仅仅是同步网络。</td></tr>
</tbody>
</table>
<p>当节点启动后，你应该看到类似下面的输出：</p>
<pre><code class="hljs"><span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> Substrate Node
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> ✌️  version <span class="token number">2.0</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token operator">-</span>rc2<span class="token operator">-</span>83d7157<span class="token operator">-</span>x86_64<span class="token operator">-</span>linux<span class="token operator">-</span>gnu
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> ❤️  by Substrate DevHub <span class="token operator">&lt;</span>https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>substrate<span class="token operator">-</span>developer<span class="token operator">-</span>hub<span class="token operator">></span><span class="token punctuation">,</span> <span class="token number">2017</span><span class="token operator">-</span><span class="token number">2020</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 📋 Chain specification<span class="token punctuation">:</span> Local Testnet
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 🏷  Node name<span class="token punctuation">:</span> Alice
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 👤 Role<span class="token punctuation">:</span> AUTHORITY
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 💾 Database<span class="token punctuation">:</span> RocksDb at <span class="token operator">/</span>tmp<span class="token operator">/</span>alice<span class="token operator">/</span>chains<span class="token operator">/</span>local_testnet<span class="token operator">/</span>db
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> ⛓  Native runtime<span class="token punctuation">:</span> node<span class="token operator">-</span>template<span class="token operator">-</span><span class="token function">1</span> <span class="token punctuation">(</span>node<span class="token operator">-</span>template<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>tx1<span class="token punctuation">.</span>au1<span class="token punctuation">)</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 🔨 Initializing Genesis block<span class="token operator">/</span><span class="token function">state</span> <span class="token punctuation">(</span>state<span class="token punctuation">:</span> <span class="token number">0xf7ca</span>…5c0f<span class="token punctuation">,</span> header<span class="token operator">-</span>hash<span class="token punctuation">:</span> <span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 👴 Loading GRANDPA authority set from genesis on what appears to <span class="token keyword">be</span> first startup<span class="token punctuation">.</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> ⏱  Loaded block<span class="token operator">-</span>time <span class="token operator">=</span> <span class="token number">6000</span> milliseconds from genesis on first<span class="token operator">-</span>launch
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 📦 Highest known block at #<span class="token number">0</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> Using default protocol ID <span class="token string">"sup"</span> because none is configured <span class="token keyword">in</span> the chain specs
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 🏷  Local node identity is<span class="token punctuation">:</span> <span class="token function">12D3KooWFGe9f8p88PVU3E4AwJEjU47DCWgJjU7SwGhvbDm6T7V2</span> <span class="token punctuation">(</span>legacy representation<span class="token punctuation">:</span> QmdYNXLKscxk45kK7VNnR95zkjYW2KVg9Qdv1WG6w73rQN<span class="token punctuation">)</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">30</span> 〽️ Prometheus server started at <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">:</span><span class="token number">9615</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">35</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">0</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span> ⬆ <span class="token number">0</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">09</span><span class="token punctuation">:</span><span class="token number">40</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">0</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span> ⬆ <span class="token number">0</span>
<span class="token punctuation">...</span>
</code></pre>
<blockquote>
<p><strong>备注</strong></p>
<ul>
<li><code>🔨 Initializing Genesis block/state (state: 0xf7ca…5c0f, header-hash: 0x1b54…0198)</code> tells which genesis block the node is using. When you start the next node, verify that these values are equal.</li>
<li><code>🏷 Local node identity is: 12D3KooWFGe9f8p88PVU3E4AwJEjU47DCWgJjU7SwGhvbDm6T7V2...</code> shows the Peer ID that Bob will need when booting from Alice's node.</li>
</ul>
</blockquote>
<p>你会注意到尚未生成任何块。 Blocks will start being produced once another node joins the network.</p>
<p>More details about all of these flags and others that I haven't mentioned are available by running <code>./target/release/node-template --help</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="连接ui"></a><a href="#连接ui" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>连接UI</h2>
<p>你可以通过节点在命令行中产生的输出了解很多信息。 There is also a nice graphical user interface known as the Polkadot-JS Apps, or just &quot;Apps&quot; for short.</p>
<p>In your web browser, navigate to <a href="https://polkadot.js.org/apps/#/settings?rpc=ws://127.0.0.1:9944">https://polkadot.js.org/apps/#/settings?rpc=ws://127.0.0.1:9944</a>.</p>
<blockquote>
<p>Some browsers, notably Firefox, will not connect to a local node from an https website. An easy work around is to try another browser, like Chromium. Another option is to <a href="https://github.com/polkadot-js/apps#development">host this interface locally</a>.</p>
</blockquote>
<p>The link provided above includes the <code>rpc</code> URL parameter, which instructs the Apps UI to connect to the URL that was provided as its value (in this case, your local node). To manually configure Apps UI to connect to another node:</p>
<ul>
<li><p>点击左上角的网络图标</p>
<p><img src="/docs/assets/tutorials/private-network/private-network-top-left-network-icon.png" alt="Top Left Network Icon"></p></li>
<li><p>弹出式下拉菜单。 选择最后一个条目，它是使用默认端口9944 的本地节点</p>
<p><img src="/docs/assets/tutorials/private-network/private-network-select-network.png" alt="Select Network"></p></li>
<li><p>To connect to a custom node and port, you just need to specify the endpoint by choosing <code>custom endpoint</code> and type in your own endpoint. In this way you can use a single instance of Apps UI to connect to various nodes.</p>
<p><img src="/docs/assets/tutorials/private-network/private-network-custom-endpoint.png" alt="Custom Endpoint"></p></li>
</ul>
<p>你应该看到类似下面的内容：</p>
<p><img src="/docs/assets/tutorials/private-network/private-network-no-blocks.png" alt="polkadot-js-apps 中没有区块"></p>
<blockquote>
<p><strong>备注</strong></p>
<p>If you do not want to run your hosted version of Polkadot-JS Apps UI while connecting to Substrate node you have deployed remotely, you can configure ssh local port forwarding to forward local request to the <code>ws-port</code> listened by the remote host. This is beyond the scope of this tutorial but is referenced at the bottom.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="bob-加入"></a><a href="#bob-加入" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bob 加入</h2>
<p>现在，Alice节点已经启动并运行，Bob 可以通过引导节点来加入网络。 他的命令看起来非常类似下面：</p>
<pre><code class="hljs css language-bash">./target/release/node-template purge-chain --base-path /tmp/bob --chain <span class="hljs-built_in">local</span>
</code></pre>
<pre><code class="hljs css language-bash">./target/release/node-template \
  --base-path /tmp/bob \
  --chain <span class="hljs-built_in">local</span> \
  --bob \
  --port 30334 \
  --ws-port 9945 \
  --rpc-port 9934 \
  --telemetry-url <span class="hljs-string">'ws://telemetry.polkadot.io:1024 0'</span> \
  --validator \
  --bootnodes /ip4/&lt;Alices IP Address&gt;/tcp/&lt;Alices Port&gt;/p2p/&lt;Alices Peer ID&gt;
</code></pre>
<p>上面已经解释了大多数这些选项，但有几个要点。</p>
<ul>
<li>Because these two nodes are running on the same physical machine, Bob must specify a different <code>--base-path</code>, <code>--port</code>, <code>--ws-port</code>, and <code>--rpc-port</code>.</li>
<li>Bob 添加了 <code>--bootnodes</code> 选项来指定一个启动节点，即 Alice 节点。 He must correctly specify these three pieces of information which Alice can supply for him.
<ul>
<li>Alice's IP Address, probably <code>127.0.0.1</code></li>
<li>Alice的端口，可能是 <code>30333</code></li>
<li>Alice's Peer ID, copied from her log output. (<code>12D3KooWFGe9f8p88PVU3E4AwJEjU47DCWgJjU7SwGhvbDm6T7V2</code> in the example output above.)</li>
</ul></li>
</ul>
<p>If all is going well, after a few seconds, the nodes should peer together and start producing blocks. 您应该在启动Alice节点的控制台中看到一些像以下的行。</p>
<pre><code class="hljs"><span class="token punctuation">...</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">14</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">0</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span> ⬆ <span class="token number">0</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">19</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">0</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span> ⬆ <span class="token number">0</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">22</span> 🔍 Discovered new external address <span class="token keyword">for</span> our node<span class="token punctuation">:</span> <span class="token operator">/</span>ip4<span class="token operator">/</span><span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span>tcp<span class="token operator">/</span><span class="token number">30333</span><span class="token operator">/</span>p2p<span class="token operator">/</span>12D3KooWFGe9f8p88PVU3E4AwJEjU47DCWgJjU7SwGhvbDm6T7V2
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">24</span> 🙌 Starting consensus session on top of parent <span class="token number">0x1b54d33e7be756ecb667b4e10153511346ea1a5b95068c946134103f63690198</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">24</span> 🎁 Prepared block <span class="token keyword">for</span> proposing at <span class="token number">1</span> <span class="token punctuation">[</span>hash<span class="token punctuation">:</span> <span class="token number">0xb54d18595c90ff39d4efd2835a883f60446f889500a16dbab18bafe480152dab</span><span class="token punctuation">;</span> parent_hash<span class="token punctuation">:</span> <span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">;</span> <span class="token function">extrinsics</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0xb2b3</span>…d97e<span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">24</span> 🔖 Pre<span class="token operator">-</span>sealed block <span class="token keyword">for</span> proposal at <span class="token number">1</span><span class="token punctuation">.</span> Hash now <span class="token number">0x84a61167bd9c2eecaa2f242e3bc747a49be40bbcd76d5897f908fee53e205967</span><span class="token punctuation">,</span> previously <span class="token number">0xb54d18595c90ff39d4efd2835a883f60446f889500a16dbab18bafe480152dab</span><span class="token punctuation">.</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">24</span> ✨ Imported #<span class="token function">1</span> <span class="token punctuation">(</span><span class="token number">0x84a6</span>…<span class="token number">5967</span><span class="token punctuation">)</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">24</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">1</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">1</span> <span class="token punctuation">(</span><span class="token number">0x84a6</span>…<span class="token number">5967</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span><span class="token punctuation">.</span>9kiB<span class="token operator">/</span>s ⬆ <span class="token number">1</span><span class="token punctuation">.</span>0kiB<span class="token operator">/</span>s
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">29</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">1</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">1</span> <span class="token punctuation">(</span><span class="token number">0x84a6</span>…<span class="token number">5967</span><span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span><span class="token punctuation">.</span>7kiB<span class="token operator">/</span>s ⬆ <span class="token number">0</span><span class="token punctuation">.</span>6kiB<span class="token operator">/</span>s
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">30</span> ✨ Imported #<span class="token function">2</span> <span class="token punctuation">(</span><span class="token number">0x5865</span>…74d5<span class="token punctuation">)</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">34</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">1</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">2</span> <span class="token punctuation">(</span><span class="token number">0x5865</span>…74d5<span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">0</span> <span class="token punctuation">(</span><span class="token number">0x1b54</span>…<span class="token number">0198</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">0</span><span class="token punctuation">.</span>7kiB<span class="token operator">/</span>s ⬆ <span class="token number">0</span><span class="token punctuation">.</span>7kiB<span class="token operator">/</span>s
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">36</span> 🙌 Starting consensus session on top of parent <span class="token number">0x5865da4ba8dbf983845ef9b17f3e5920a067de5215120feb42a63778af0a74d5</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">36</span> 🎁 Prepared block <span class="token keyword">for</span> proposing at <span class="token number">3</span> <span class="token punctuation">[</span>hash<span class="token punctuation">:</span> <span class="token number">0xd8f870209fcaca8d2372d39125561990fdd6b9d6941ced7b0835044ff7a77693</span><span class="token punctuation">;</span> parent_hash<span class="token punctuation">:</span> <span class="token number">0x5865</span>…74d5<span class="token punctuation">;</span> <span class="token function">extrinsics</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0x309d</span>…0d70<span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">36</span> 🔖 Pre<span class="token operator">-</span>sealed block <span class="token keyword">for</span> proposal at <span class="token number">3</span><span class="token punctuation">.</span> Hash now <span class="token number">0x1c03614c74ff7be6841777009dd368d864c850d3e238ffb27e871099ec54773d</span><span class="token punctuation">,</span> previously <span class="token number">0xd8f870209fcaca8d2372d39125561990fdd6b9d6941ced7b0835044ff7a77693</span><span class="token punctuation">.</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">36</span> ✨ Imported #<span class="token function">3</span> <span class="token punctuation">(</span><span class="token number">0x1c03</span>…773d<span class="token punctuation">)</span>
<span class="token number">2020</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">13</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token number">39</span> 💤 <span class="token function">Idle</span> <span class="token punctuation">(</span><span class="token number">1</span> peers<span class="token punctuation">)</span><span class="token punctuation">,</span> best<span class="token punctuation">:</span> #<span class="token function">3</span> <span class="token punctuation">(</span><span class="token number">0x1c03</span>…773d<span class="token punctuation">)</span><span class="token punctuation">,</span> finalized #<span class="token function">1</span> <span class="token punctuation">(</span><span class="token number">0x84a6</span>…<span class="token number">5967</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ⬇ <span class="token number">1</span><span class="token punctuation">.</span>1kiB<span class="token operator">/</span>s ⬆ <span class="token number">1</span><span class="token punctuation">.</span>2kiB<span class="token operator">/</span>s
<span class="token punctuation">...</span>
</code></pre>
<p>These lines shows that Bob has peered with Alice (<strong><code>1 peers</code></strong>), they have produced some blocks (<strong><code>best: #3 (0x1c03…773d)</code></strong>), and blocks are being finalized (<strong><code>finalized #1 (0x84a6…5967)</code></strong>).</p>
<p>Looking at the console that started Bob's node, you should see something similar.</p>
<p>Once you've verified that both nodes are running as expected, you can shut them down. The next section of this tutorial will include commands to restart the nodes when necessary.</p>
<h2><a class="anchor" aria-hidden="true" id="參考資料"></a><a href="#參考資料" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>參考資料</h2>
<ul>
<li><a href="https://www.booleanworld.com/guide-ssh-port-forwarding-tunnelling/">配置 ssh 本地端口转发器</a></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-CN/tutorials/start-a-private-network/index"><span class="arrow-prev">← </span><span>启动私有网络</span></a><a class="docs-next button" href="/docs/zh-CN/tutorials/start-a-private-network/keygen"><span>生成密钥</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#alice-首先启动">Alice 首先启动</a></li><li><a href="#连接ui">连接UI</a></li><li><a href="#bob-加入">Bob 加入</a></li><li><a href="#參考資料">參考資料</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Substrate-logo.svg" alt="Substrate Developer Hub" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-CN/">Getting Started</a><a href="/zh-CN/tutorials">Tutorials</a><a href="https://crates.parity.io/">Reference Docs</a><a href="https://substrate.dev/recipes/">Recipes</a></div><div><h5>Community</h5><a href="/zh-CN/videos">Videos</a><a href="/zh-CN/seminar">Substrate Seminar</a><a href="http://stackoverflow.com/questions/tagged/substrate" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://riot.im/app/#/room/!HzySYSaIhtyWrwiwEV:matrix.org">Riot Chat</a><a href="https://twitter.com/ParityTech" target="_blank" rel="noreferrer noopener">Twitter</a><a href="https://www.meetup.com/parity/" target="_blank" rel="noreferrer noopener">Events</a></div><div><h5>More</h5><a href="https://builders.parity.io/">Substrate Builders Program</a><a href="https://www.parity.io/blog/">Blog</a><a href="https://github.com/paritytech/substrate">Substrate GitHub</a><a href="https://github.com/substrate-developer-hub/">Developer Hub GitHub</a><a href="https://www.parity.io/privacy/">Privacy Policy</a><a href="#" id="cookie-settings">Cookie Settings<script>
              var cookieSettings = document.getElementById('cookie-settings');
              cookieSettings.onclick = function() {
                return klaro.show();
              };
              </script></a></div></section><section class="copyright">Copyright © 2020 Parity Technologies</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '5cd09916f4ba4c283b2d45ee7386fc34',
                indexName: 'substrate',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:zh-CN"]}
              });
            </script></body></html>